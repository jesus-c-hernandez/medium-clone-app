{"version":3,"file":"common.js","mappings":"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","sources":["./src/app/shared/components/articleForm/articleForm.component.ts","./src/app/shared/components/articleForm/articleForm.component.html","./src/app/shared/services/article.service.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { ArticleFormValuesInterface } from './types/articleFormValues.interface';\r\nimport { BackendErrorMessages } from '../backendErrorMessages/backendErrorMessages.component';\r\nimport { FormBuilder, ReactiveFormsModule } from '@angular/forms';\r\nimport { BackendErrorsInterface } from '../../types/backendErrors.interface';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'mc-article-form',\r\n  templateUrl: 'articleForm.component.html',\r\n  standalone: true,\r\n  imports: [BackendErrorMessages, ReactiveFormsModule, CommonModule],\r\n})\r\nexport class ArticleFormComponent implements OnInit {\r\n  @Input() initialValues?: ArticleFormValuesInterface;\r\n  @Input() isSubmitting: boolean = false;\r\n  @Input() errors: BackendErrorsInterface | null = null;\r\n\r\n  @Output() articleSubmit = new EventEmitter<ArticleFormValuesInterface>();\r\n\r\n  form = this.fb.nonNullable.group({\r\n    title: '',\r\n    description: '',\r\n    body: '',\r\n    tagList: '',\r\n  });\r\n\r\n  constructor(private fb: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    this.initializeForm();\r\n  }\r\n\r\n  initializeForm(): void {\r\n    if (!this.initialValues) {\r\n      throw new Error('Inputs are not provided');\r\n    }\r\n\r\n    this.form.patchValue({\r\n      title: this.initialValues.title,\r\n      description: this.initialValues.description,\r\n      body: this.initialValues.body,\r\n      tagList: this.initialValues.tagList.join(' '),\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const formValues = this.form.getRawValue();\r\n    const articleFormValues: ArticleFormValuesInterface = {\r\n      ...formValues,\r\n      tagList: formValues.tagList.split(' '),\r\n    };\r\n\r\n    this.articleSubmit.emit(articleFormValues);\r\n  }\r\n}\r\n","<div class=\"editor-page\">\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-10 offset-md-1 col-xs-12\">\r\n        <mc-backend-error-messages *ngIf=\"errors\" [backendErrors]=\"errors\"\r\n          >Errors</mc-backend-error-messages\r\n        >\r\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\r\n          <fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control form-control-lg\"\r\n                placeholder=\"Article title\"\r\n                formControlName=\"title\"\r\n              />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control form-control-lg\"\r\n                placeholder=\"What is this article about\"\r\n                formControlName=\"description\"\r\n              />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <textarea\r\n                type=\"text\"\r\n                rows=\"8\"\r\n                class=\"form-control form-control-lg\"\r\n                placeholder=\"Write your article (in markdown)\"\r\n                formControlName=\"body\"\r\n              ></textarea>\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control form-control-lg\"\r\n                placeholder=\"Enter tags\"\r\n                formControlName=\"tagList\"\r\n              />\r\n            </fieldset>\r\n            <fieldset>\r\n              <button\r\n                type=\"submit\"\r\n                class=\"btn btn-lg pull-xs-right btn-primary\"\r\n                [disabled]=\"form.invalid || isSubmitting\"\r\n              >\r\n                Publish article\r\n              </button>\r\n            </fieldset>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ArticleInterface } from '../types/article.interface';\r\nimport { Observable, map } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ArticleResponseInterface } from '../types/articleResponse.interface';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ArticleService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getArticle(slug: string): Observable<ArticleInterface> {\r\n    const fullUrl = `${environment.apiURL}/articles/${slug}`;\r\n    return this.http\r\n      .get<ArticleResponseInterface>(fullUrl)\r\n      .pipe(map((response) => response.article));\r\n  }\r\n}\r\n"],"names":["EventEmitter","BackendErrorMessages","ReactiveFormsModule","CommonModule","i0","ArticleFormComponent","constructor","fb","nonNullable","group","title","description","body","tagList","ngOnInit","initializeForm","initialValues","Error","form","patchValue","join","onSubmit","formValues","getRawValue","articleFormValues","split","articleSubmit","emit","selectors","inputs","isSubmitting","errors","outputs","standalone","features","decls","vars","consts","template","ctx","encapsulation","map","environment","ArticleService","http","getArticle","slug","fullUrl","apiURL","get","pipe","response","article","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}