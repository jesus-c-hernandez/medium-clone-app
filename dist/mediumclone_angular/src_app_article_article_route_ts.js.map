{"version":3,"file":"src_app_article_article_route_ts.js","mappings":"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","sources":["./src/app/article/article.route.ts","./src/app/article/components/article.component.ts","./src/app/article/components/article.component.html","./src/app/article/services/article.service.ts","./src/app/article/store/actions.ts","./src/app/article/store/effects.ts","./src/app/article/store/reducers.ts","./src/app/shared/components/errorMessage/errorMessage.component.ts","./src/app/shared/components/loadingMessage/loadingMessage.component.ts","./src/app/shared/components/tagList/tagList.component.ts","./src/app/shared/components/tagList/tagList.component.html"],"sourcesContent":["import { Route } from '@angular/router';\r\nimport { ArticleComponent } from './components/article.component';\r\nimport { provideEffects } from '@ngrx/effects';\r\nimport * as articleEffects from './store/effects';\r\nimport { provideState } from '@ngrx/store';\r\nimport { articleFeatureKey, articleReducer } from './store/reducers';\r\n\r\nexport const routes: Route[] = [\r\n  {\r\n    path: '',\r\n    component: ArticleComponent,\r\n    providers: [\r\n      provideEffects(articleEffects),\r\n      provideState(articleFeatureKey, articleReducer),\r\n    ],\r\n  },\r\n];\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, RouterLink } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { articleActions } from '../store/actions';\r\nimport { combineLatest, filter, map } from 'rxjs';\r\nimport {\r\n  selectArticleData,\r\n  selectError,\r\n  selectIsLoading,\r\n} from '../store/reducers';\r\nimport { selectCurrentUser } from 'src/app/auth/store/reducers';\r\nimport { CurrentUserInterface } from 'src/app/shared/types/currentUser.interface';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoadingMessageComponent } from 'src/app/shared/components/loadingMessage/loadingMessage.component';\r\nimport { ErrorMessageComponent } from 'src/app/shared/components/errorMessage/errorMessage.component';\r\nimport { TagListComponent } from 'src/app/shared/components/tagList/tagList.component';\r\n\r\n@Component({\r\n  selector: 'mc-article',\r\n  templateUrl: 'article.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    RouterLink,\r\n    LoadingMessageComponent,\r\n    ErrorMessageComponent,\r\n    TagListComponent,\r\n  ],\r\n})\r\nexport class ArticleComponent implements OnInit {\r\n  slug = this.route.snapshot.paramMap.get('slug') ?? '';\r\n  isAuthor$ = combineLatest({\r\n    article: this.store.select(selectArticleData),\r\n    currentUser: this.store\r\n      .select(selectCurrentUser)\r\n      .pipe(\r\n        filter(\r\n          (currentUser): currentUser is CurrentUserInterface | null =>\r\n            currentUser !== undefined\r\n        )\r\n      ),\r\n  }).pipe(\r\n    map(({ article, currentUser }) => {\r\n      if (!article || !currentUser) {\r\n        return false;\r\n      }\r\n      return article.author.username === currentUser.username;\r\n    })\r\n  );\r\n  data$ = combineLatest({\r\n    isLoading: this.store.select(selectIsLoading),\r\n    error: this.store.select(selectError),\r\n    article: this.store.select(selectArticleData),\r\n    isAuthor: this.isAuthor$,\r\n  });\r\n\r\n  constructor(private store: Store, private route: ActivatedRoute) {}\r\n  ngOnInit(): void {\r\n    this.store.dispatch(articleActions.getArticle({ slug: this.slug }));\r\n  }\r\n\r\n  deleteArticle(): void {\r\n    this.store.dispatch(articleActions.deleteArticle({ slug: this.slug }));\r\n  }\r\n}\r\n","<ng-container *ngIf=\"data$ | async as data\">\r\n  <div class=\"article-page\">\r\n    <div class=\"banner\">\r\n      <div class=\"container\" *ngIf=\"data.article\">\r\n        <h1>\r\n          {{ data.article.title }}\r\n        </h1>\r\n        <div class=\"article-meta\">\r\n          <a [routerLink]=\"['/profiles', data.article.author.username]\">\r\n            <img [src]=\"data.article.author.image\" />\r\n          </a>\r\n          <div class=\"info\">\r\n            <a [routerLink]=\"['/profiles', data.article.author.username]\">\r\n              {{ data.article.author.username }}\r\n            </a>\r\n            <span class=\"data\">{{ data.article.createdAt }}</span>\r\n          </div>\r\n          <span *ngIf=\"data.isAuthor\">\r\n            <a\r\n              [routerLink]=\"['/articles', data.article.slug, 'edit']\"\r\n              class=\"btn btn-outline-secondary btn-sm\"\r\n            >\r\n              <i class=\"ion-edit\"></i>\r\n              Edit Article\r\n            </a>\r\n            <button\r\n              class=\"btn btn-outline-danger btn-sm\"\r\n              (click)=\"deleteArticle()\"\r\n            >\r\n              Delete Article\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container page\">\r\n      <mc-loading-message *ngIf=\"data.isLoading\"></mc-loading-message>\r\n      <mc-error-message *ngIf=\"data.error\"></mc-error-message>\r\n\r\n      <div class=\"row article-content\" *ngIf=\"data.article\">\r\n        <div class=\"col-xs-12\">\r\n          <div>\r\n            <p>{{ data.article.body }}</p>\r\n          </div>\r\n          <mc-tag-list [tags]=\"data.article.tagList\"></mc-tag-list>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ArticleService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  deleteArticle(slug: string): Observable<{}> {\r\n    const fullUrl = `${environment.apiURL}/articles/${slug}`;\r\n    return this.http.delete(fullUrl);\r\n  }\r\n}\r\n","import { createActionGroup, emptyProps, props } from '@ngrx/store';\r\nimport { ArticleInterface } from 'src/app/shared/types/article.interface';\r\n\r\nexport const articleActions = createActionGroup({\r\n  source: 'article',\r\n  events: {\r\n    // Get\r\n    'Get article': props<{ slug: string }>(),\r\n    'Get artcicle success': props<{ article: ArticleInterface }>(),\r\n    'Get article failure': emptyProps(),\r\n    // Delete\r\n    'Delete article': props<{ slug: string }>(),\r\n    'Delete artcicle success': emptyProps(),\r\n    'Delete article failure': emptyProps(),\r\n  },\r\n});\r\n","import { inject } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { ArticleService as SharedArticleService } from 'src/app/shared/services/article.service';\r\nimport { articleActions } from './actions';\r\nimport { catchError, map, of, switchMap, tap } from 'rxjs';\r\nimport { ArticleInterface } from 'src/app/shared/types/article.interface';\r\nimport { ArticleService } from '../services/article.service';\r\nimport { Router } from '@angular/router';\r\n\r\nexport const getArticleEffect = createEffect(\r\n  (\r\n    actions$ = inject(Actions),\r\n    articleService = inject(SharedArticleService)\r\n  ) => {\r\n    return actions$.pipe(\r\n      ofType(articleActions.getArticle),\r\n      switchMap(({ slug }) => {\r\n        return articleService.getArticle(slug).pipe(\r\n          map((article: ArticleInterface) => {\r\n            return articleActions.getArtcicleSuccess({ article });\r\n          }),\r\n          catchError(() => {\r\n            return of(articleActions.getArticleFailure());\r\n          })\r\n        );\r\n      })\r\n    );\r\n  },\r\n  { functional: true }\r\n);\r\n\r\nexport const deleteArticleEffect = createEffect(\r\n  (actions$ = inject(Actions), articleService = inject(ArticleService)) => {\r\n    return actions$.pipe(\r\n      ofType(articleActions.deleteArticle),\r\n      switchMap(({ slug }) => {\r\n        return articleService.deleteArticle(slug).pipe(\r\n          map(() => {\r\n            return articleActions.deleteArtcicleSuccess();\r\n          }),\r\n          catchError(() => {\r\n            return of(articleActions.deleteArticleFailure());\r\n          })\r\n        );\r\n      })\r\n    );\r\n  },\r\n  { functional: true }\r\n);\r\n\r\nexport const redirectAfterDeleteEffect = createEffect(\r\n  (actions$ = inject(Actions), router = inject(Router)) => {\r\n    return actions$.pipe(\r\n      ofType(articleActions.deleteArtcicleSuccess),\r\n      tap(() => {\r\n        router.navigateByUrl('/');\r\n      })\r\n    );\r\n  },\r\n  { functional: true, dispatch: false }\r\n);\r\n","import { createFeature, createReducer, on } from '@ngrx/store';\r\nimport { ArticleStateInterface } from '../types/articleState.interface';\r\nimport { articleActions } from './actions';\r\nimport { routerNavigatedAction } from '@ngrx/router-store';\r\n\r\nconst initialState: ArticleStateInterface = {\r\n  isLoading: false,\r\n  error: null,\r\n  data: null,\r\n};\r\n\r\nconst articleFeature = createFeature({\r\n  name: 'article',\r\n  reducer: createReducer(\r\n    initialState,\r\n    on(articleActions.getArticle, (state) => ({ ...state, isLoading: true })),\r\n    on(articleActions.getArtcicleSuccess, (state, action) => ({\r\n      ...state,\r\n      isLoading: false,\r\n      data: action.article,\r\n    })),\r\n    on(articleActions.getArticleFailure, (state) => ({\r\n      ...state,\r\n      isLoading: false,\r\n    })),\r\n    on(routerNavigatedAction, () => initialState)\r\n  ),\r\n});\r\n\r\nexport const {\r\n  name: articleFeatureKey,\r\n  reducer: articleReducer,\r\n  selectIsLoading,\r\n  selectError,\r\n  selectData: selectArticleData,\r\n} = articleFeature;\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'mc-error-message',\r\n  template: '<div>{{errorMessage}}</div>',\r\n  standalone: true,\r\n})\r\nexport class ErrorMessageComponent {\r\n  @Input() errorMessage: string = '';\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'mc-loading-message',\r\n  template: '<div>Loading...</div>',\r\n  standalone: true,\r\n})\r\nexport class LoadingMessageComponent {}\r\n","import { Component, Input } from '@angular/core';\r\nimport { PopularTagType } from '../../types/popularTag.type';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'mc-tag-list',\r\n  templateUrl: './tagList.component.html',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n})\r\nexport class TagListComponent {\r\n  @Input() tags: PopularTagType[] = [];\r\n}\r\n","<ul class=\"tag-list\">\r\n  <li *ngFor=\"let tag of tags\" class=\"tag-default tag-pill tag-outline\">\r\n    {{ tag }}\r\n  </li>\r\n</ul>\r\n"],"names":["ArticleComponent","provideEffects","articleEffects","provideState","articleFeatureKey","articleReducer","routes","path","component","providers","RouterLink","articleActions","combineLatest","filter","map","selectArticleData","selectError","selectIsLoading","selectCurrentUser","CommonModule","LoadingMessageComponent","ErrorMessageComponent","TagListComponent","i0","constructor","store","route","snapshot","paramMap","get","article","select","currentUser","pipe","undefined","author","username","isLoading","error","isAuthor","isAuthor$","ngOnInit","dispatch","getArticle","slug","deleteArticle","selectors","standalone","features","decls","vars","consts","template","encapsulation","environment","ArticleService","http","fullUrl","apiURL","delete","factory","providedIn","createActionGroup","emptyProps","props","source","events","inject","Actions","createEffect","ofType","SharedArticleService","catchError","of","switchMap","tap","Router","getArticleEffect","actions$","articleService","getArtcicleSuccess","getArticleFailure","functional","deleteArticleEffect","deleteArtcicleSuccess","deleteArticleFailure","redirectAfterDeleteEffect","router","navigateByUrl","createFeature","createReducer","on","routerNavigatedAction","initialState","data","articleFeature","name","reducer","state","action","selectData","inputs","errorMessage","tags"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}